import{r as x,C as i,j as e,u as m,L as p}from"./index-dgVv_qFR.js";import"./swiper-react-MJQ8yvIH.js";import{p as f}from"./price-BV3AvBE9.js";import"./useFetch-BNXUfLOg.js";import{S as h}from"./delete-CfScLWeX.js";import{C as u}from"./CheckoutCard-Bi2k7ImJ.js";import"./mastercard-DTDiPLZg.js";import"./useDelayNavigation-C_UYZSj0.js";function j({item:t}){const{increaseQuantity:l,decreaseQuantity:n}=x.useContext(i);return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{n(t.id)},disabled:(t==null?void 0:t.quantity)<=1,className:`flex justify-center ${(t==null?void 0:t.quantity)<=1?"bg-primaryLight text-black":"bg-primary text-white"} items-center h-[20px] w-[20px] text-[15px]`,children:"-"}),e.jsx("div",{className:"flex justify-center items-center text-black text-[12px] h-[20px] w-[20px]",children:t==null?void 0:t.quantity}),e.jsx("button",{onClick:()=>{l(t.id)},className:"flex justify-center bg-primary text-white items-center h-[20px] w-[20px] text-[15px]",children:"+"})]})}function S(t){m(),x.useState();const l=x.useContext(i),{removeFromCart:n}=x.useContext(i),[c,o]=x.useState(l.cart);x.useEffect(()=>{o(l.cart)},[l]);function d(s){return s.reduce((a,r)=>a.concat(r),[])}return d(c.map(s=>s.current_price.map(a=>a.NGN[0])*(s==null?void 0:s.quantity))),e.jsx("div",{className:"pt-[80px] px-[30px] mb-[70px] sm:px-[90px] bg-white",children:e.jsx("div",{className:"py-[50px]",children:c.length===0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center items-center w-full h-[40vh] gap-[20px]",children:e.jsxs("div",{className:"flex flex-col gap-[20px] items-center",children:[e.jsx("p",{className:"",children:"Your cart is empty. Start shopping for furniture!"}),e.jsx(p,{to:"/",children:e.jsx("button",{onClick:()=>addToCart(product),className:"py-[12px] px-[40px] rounded-[6px] bg-primary text-white flex justify-center items-center text-[12px] cursor-pointer hover:bg-black duration-150",children:"Start Shopping"})})]})})}):e.jsxs("div",{className:"relative bg-white p-[5px] flex flex-col md:flex-col lg:flex-row gap-[40px]",children:[e.jsxs("div",{className:"flex-[6] flex flex-col gap-[20px]",children:[e.jsxs("p",{className:"",children:["Cart (",c.length,")"]}),e.jsx("hr",{className:"border-grey"}),e.jsx("div",{className:"flex flex-col gap-[40px] sm:gap-[20px]",children:c.map(s=>{var a;return e.jsxs("div",{className:"gap-[30px] sm:gap-[15px] flex flex-row w-full",children:[e.jsxs("div",{className:"flex flex-col gap-[10px]",children:[e.jsx(p,{to:`/product-view/${s.id}`,state:s,children:e.jsx("div",{className:"bg-cover bg-center bg-no-repeat h-[100px] w-[130px] sm:w-[100px]",style:{backgroundImage:`url(https://api.timbu.cloud/images/${s.photos[0].url})`}})}),e.jsxs("div",{className:"flex flex-row items-center gap-[5px] cursor-pointer",onClick:()=>n(s.id),children:[e.jsx(h,{className:" scale-[.90]"}),e.jsx("p",{className:"text-[12px]",children:"Remove"})]})]}),e.jsx("div",{className:"flex justify-end w-full",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between w-full",children:[e.jsx("div",{className:"w-[80%]",children:e.jsx("p",{className:"text-[15px]",children:s.name})}),e.jsxs("div",{className:"flex flex-col gap-[10px]",children:[e.jsx("p",{className:"text-[14px]",children:f((a=s==null?void 0:s.current_price)==null?void 0:a.map(r=>r==null?void 0:r.NGN[0]))}),e.jsx("div",{className:"flex flex-row items-center",children:e.jsx(j,{item:s})})]})]})})]},s.id)})})]}),e.jsx(u,{})]})})})}export{S as default};
